<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>
    <link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <script>
        const email = "Abhi66@gmail.com";
        const mobile = "+918459981862";
        const password = "Abhi@11";
        let flag = "";

        function ToggleContainers() {
            document.getElementById("UserContainer").style.display = "none";
            document.getElementById("PwdContainer").style.display = "block";
            document.getElementById("lblUserError").innerHTML = "";
        }

        function ContinueClick() {
            const userid = document.getElementById("txtUserId").value.trim();
            const lblUserError = document.getElementById("lblUserError");

            if (userid === "") {
                lblUserError.innerHTML = "Please enter Email or Mobile number.";
                return;
            }

            if (email === userid) {
                flag = `Email Verified: Activation link sent to your email ${userid}`;
                ToggleContainers();
            } else if (mobile === userid) {
                flag = `Mobile Verified: OTP sent to your mobile ${userid}`;
                ToggleContainers();
            } else {
                lblUserError.innerHTML = `${userid} doesn't exist.`;
            }
        }

        function LoginClick() {
            const pwd = document.getElementById("txtPwd").value;
            const lblPwd = document.getElementById("lblPwd");

            if (pwd === "") {
                lblPwd.innerHTML = "Please enter your password.";
                return;
            }

            if (pwd === password) {
                document.getElementById("PwdContainer").style.display = "none";
                const successMsg = document.getElementById("successMessage");
                successMsg.innerHTML = `<div class="alert alert-success">${flag}<br>Login Successful!</div>`;
            } else {
                lblPwd.innerHTML = "Invalid Password. Please try again.";
            }
        }
    </script>
</head>

<body class="container-fluid d-flex justify-content-center">
    <div class="mt-4 border border-1 rounded p-4 w-25 border-secondary">
        <h1 class="bi bi-person-fill"> Sign In</h1>

        <div id="UserContainer">
            <label class="form-label fw-bold">Email or Mobile Number</label>
            <div>
                <input type="text" id="txtUserId" class="form-control">
                <div id="lblUserError" class="text-danger mt-1"></div>
            </div>
            <div class="mt-4">
                <button onclick="ContinueClick()" class="btn btn-warning w-100">Continue</button>
            </div>
        </div>

        <div id="PwdContainer" style="display: none;">
            <label class="form-label fw-bold">Password</label>
            <div>
                <input type="password" id="txtPwd" class="form-control">
                <div id="lblPwd" class="text-danger mt-1"></div>
            </div>
            <div class="mt-4">
                <button onclick="LoginClick()" class="btn btn-warning w-100">Login</button>
            </div>
        </div>

        <div id="successMessage" class="mt-3"></div>
    </div>
</body>
</html>
